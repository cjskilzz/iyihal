<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duygu Destek Platformu</title>
    <style>
        :root {
            --primary-bg: #f4f7f6;
            --text-color: #333;
            --accent-color: #007bff;
            --light-accent: #e7f3ff;
            --card-bg: #ffffff;
            --border-color: #ddd;
            --shadow: 0 4px 8px rgba(0,0,0,0.1);
            --border-radius: 12px;
            --transition-speed: 0.3s;

            /* Duygu Renkleri */
            --kaygili-bg: linear-gradient(135deg, #6c757d, #495057);
            --kaygili-text: #f8f9fa;
            --yalniz-bg: linear-gradient(135deg, #a2d2ff, #61a5c2);
            --yalniz-text: #0b132b;
            --umutsuz-bg: linear-gradient(135deg, #adb5bd, #6c757d);
            --umutsuz-text: #e9ecef;
            --boslukta-bg: linear-gradient(135deg, #e9ecef, #ced4da);
            --boslukta-text: #495057;
            --kararsiz-bg: linear-gradient(135deg, #c77dff, #9d4edd);
            --kararsiz-text: #f8f9fa;
            --sakin-bg: linear-gradient(135deg, #a9def9, #72efdd);
            --sakin-text: #003049;
            --ilhamli-bg: linear-gradient(135deg, #ffd6a5, #ffb38a);
            --ilhamli-text: #5c3c10;
            --sevgisiz-bg: linear-gradient(135deg, #ffb3c1, #ff8fab);
            --sevgisiz-text: #590d22;
            --pastel-sari: #fff1a6;
            --soguk-mavi: #add8e6;
        }

        body.dark-mode {
            --primary-bg: #222831;
            --text-color: #eeeeee;
            --card-bg: #393e46;
            --border-color: #4a4e58;
            --light-accent: #3a4e67;
            --accent-color: #00adb5;

             /* Duygu Renkleri - KaranlÄ±k Mod */
            --kaygili-bg: linear-gradient(135deg, #495057, #343a40);
            --yalniz-bg: linear-gradient(135deg, #61a5c2, #3c7a89);
            --umutsuz-bg: linear-gradient(135deg, #6c757d, #495057);
            --boslukta-bg: linear-gradient(135deg, #ced4da, #adb5bd); /* Text rengi aÃ§Ä±k kalmalÄ± */
            --boslukta-text: #212529;
            --kararsiz-bg: linear-gradient(135deg, #9d4edd, #7b2cbf);
            --sakin-bg: linear-gradient(135deg, #72efdd, #56cfe1);
            --ilhamli-bg: linear-gradient(135deg, #ffb38a, #ff8c61);
            --sevgisiz-bg: linear-gradient(135deg, #ff8fab, #ff758f);
            --pastel-sari: #b3a370;
            --soguk-mavi: #5c7a89;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--primary-bg);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color var(--transition-speed), color var(--transition-speed);
            overflow-x: hidden; /* Yatay kaydÄ±rmayÄ± engelle */
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        header h1 {
            color: var(--accent-color);
            margin-bottom: 10px;
        }
        
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            z-index: 1001; /* Navigasyonun Ã¼zerinde olmasÄ± iÃ§in */
        }

        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
            background-color: var(--light-accent);
            padding: 10px;
            border-radius: var(--border-radius);
        }

        nav button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color var(--transition-speed), transform var(--transition-speed);
        }

        nav button:hover, nav button.active {
            background-color: #0056b3;
            transform: translateY(-2px);
        }
        body.dark-mode nav button:hover, body.dark-mode nav button.active {
            background-color: #007c82;
        }


        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            background-color: var(--primary-bg); /* Ä°Ã§eriÄŸin kendi arkaplanÄ± */
            animation: fadeIn 0.5s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2, h3 {
            color: var(--accent-color);
        }

        /* SEKME 1: Duygu ButonlarÄ± */
        .duygu-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .duygu-button {
            padding: 20px 10px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            color: white;
            transition: transform 0.2s, box-shadow 0.2s;
            text-align: center;
        }

        .duygu-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        #duygu-kaygili { background: var(--kaygili-bg); color: var(--kaygili-text); }
        #duygu-yalniz { background: var(--yalniz-bg); color: var(--yalniz-text); }
        #duygu-umutsuz { background: var(--umutsuz-bg); color: var(--umutsuz-text); }
        #duygu-boslukta { background: var(--boslukta-bg); color: var(--boslukta-text); }
        #duygu-kararsiz { background: var(--kararsiz-bg); color: var(--kararsiz-text); }
        #duygu-sakin { background: var(--sakin-bg); color: var(--sakin-text); }
        #duygu-ilhamli { background: var(--ilhamli-bg); color: var(--ilhamli-text); }
        #duygu-sevgisiz { background: var(--sevgisiz-bg); color: var(--sevgisiz-text); }

        #duygu-icerik {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--light-accent);
            border-radius: var(--border-radius);
            min-height: 150px;
        }
        #duygu-icerik h3 { margin-top: 0; }
        #duygu-icerik ul { list-style: none; padding-left: 0; }
        #duygu-icerik li { margin-bottom: 8px; }
        #duygu-destek-oneri { color: red; font-weight: bold; margin-top:15px; }


        /* SEKME 2: Empati KartlarÄ± */
        .empati-kartlari-container { text-align: center; }
        .empati-kart {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 15px auto;
            max-width: 400px;
            box-shadow: var(--shadow);
            text-align: left;
        }
        .empati-kart p { font-style: italic; margin-bottom: 15px;}
        .kart-tepkiler button {
            background: none;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 8px 12px;
            margin: 0 5px;
            border-radius: 20px;
            cursor: pointer;
        }
        .kart-tepkiler button:hover { background-color: var(--light-accent); }
        #yeni-kart-form textarea {
            width: calc(100% - 22px); /* Padding ve border hesabÄ± */
            min-height: 80px;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            color: var(--text-color);
        }
        #yeni-kart-form input[type="text"] {
            width: calc(50% - 22px);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            color: var(--text-color);
        }
         #yeni-kart-form button, .empati-kartlari-container button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }
        #yeni-kart-form button:hover, .empati-kartlari-container button:hover {
            background-color: #0056b3;
        }
        body.dark-mode #yeni-kart-form button:hover, body.dark-mode .empati-kartlari-container button:hover {
            background-color: #007c82;
        }

        /* SEKME 3: Ä°yileÅŸme AlanÄ± */
        .iyilesme-bolumu {
            margin-bottom: 25px;
            padding: 15px;
            background-color: var(--light-accent);
            border-radius: var(--border-radius);
        }
        .iyilesme-bolumu h3 { margin-top: 0; }
        .iyilesme-bolumu button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 12px;
            margin-top: 10px;
            border-radius: 8px;
            cursor: pointer;
        }
         .iyilesme-bolumu button:hover { background-color: #0056b3; }
         body.dark-mode .iyilesme-bolumu button:hover { background-color: #007c82; }

        .emoji-skala button {
            font-size: 1.5em;
            background: none;
            border: none;
            cursor: pointer;
            margin: 0 5px;
        }
        #geri-bildirim-notu {
            width: calc(100% - 22px);
            margin-top: 10px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            color: var(--text-color);
        }

        /* SEKME 4: Duygusal GÃ¶revler */
        .gorev {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-bottom: 10px;
            background-color: var(--light-accent);
            border-radius: 8px;
        }
        .gorev input[type="checkbox"] { margin-right: 10px; transform: scale(1.2); }
        .gorev label { flex-grow: 1; }
        .rozetler-alani span {
            display: inline-block;
            background-color: var(--accent-color);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            margin: 5px;
            font-size: 0.9em;
        }


        /* SEKME 5: Dijital Terapi Defteri */
        #gunluk-soru { font-style: italic; margin-bottom: 15px; color: var(--accent-color); }
        #terapi-defteri-form textarea {
            width: calc(100% - 22px);
            min-height: 150px;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            color: var(--text-color);
        }
        #terapi-defteri-form .mod-butonlari button {
            margin-right: 10px;
        }
        #terapi-defteri-form button {
             background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
        }
        #terapi-defteri-form button:hover { background-color: #0056b3; }
        body.dark-mode #terapi-defteri-form button:hover { background-color: #007c82; }
        #kelime-analizi { margin-top: 15px; font-size: 0.9em; }


        /* SEKME 6: Ruh Halin Ne Renk? */
        .ruh-hali-secim select, .ruh-hali-secim button {
            padding: 10px;
            margin: 5px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            color: var(--text-color);
        }
        #ruh-portresi {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: background-color 0.5s, border-style 0.5s;
            position: relative;
            overflow: hidden; /* For animations */
        }
        #ruh-portresi-text {
            color: white; /* Default, can be overridden by JS */
            mix-blend-mode: difference; /* Makes text visible on most backgrounds */
            z-index: 1;
        }

        /* Doku ve Hareket iÃ§in Ã¶rnek stiller (JS ile class olarak eklenecek) */
        .doku-dalgalÄ± { background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,0,0,0.05) 10px, rgba(0,0,0,0.05) 20px); }
        .doku-kirik::before { content: ""; position: absolute; top:0;left:0;right:0;bottom:0; background-image: repeating-linear-gradient(135deg, transparent, transparent 5px, rgba(0,0,0,0.1) 5px, rgba(0,0,0,0.1) 10px), repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(0,0,0,0.1) 5px, rgba(0,0,0,0.1) 10px); opacity: 0.5;}
        .doku-duz {}
        .doku-bulanik { filter: blur(1px); } /* Basit bulanÄ±klÄ±k, portrenin kendisine uygulanÄ±r */

        .hareket-titresimli { animation: titresim 0.3s infinite alternate; }
        @keyframes titresim { from { transform: translateX(-1px) translateY(-1px); } to { transform: translateX(1px) translateY(1px); } }

        .hareket-yavas-donen { animation: yavasDonus 10s linear infinite; }
        @keyframes yavasDonus { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .hareket-yukari-tirmanan::after { content: "â–²"; position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); animation: tirman 3s ease-in-out infinite; opacity:0.5; font-size: 1.5em;}
        @keyframes tirman { 0% { bottom: 5px; opacity: 0.2;} 50% { bottom: 80%; opacity: 0.8;} 100% { bottom: 5px; opacity: 0.2;} }


        /* Rozetler */
        .rozet {
            display: inline-block;
            padding: 5px 10px;
            margin: 5px;
            background-color: gold;
            color: #333;
            border-radius: 15px;
            font-size: 0.9em;
            border: 1px solid orange;
        }

        /* Genel Butonlar */
        button.primary-action {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: background-color var(--transition-speed);
        }
        button.primary-action:hover {
             background-color: #0056b3;
        }
        body.dark-mode button.primary-action:hover {
            background-color: #007c82;
        }

        /* PaylaÅŸÄ±m */
        .paylasim-butonu {
            margin-top: 10px;
            font-size: 0.9em;
        }

    </style>
</head>
<body>
    <button id="themeToggle" class="theme-toggle">ğŸŒ™</button>

    <div class="container">
        <header>
            <h1>Duygu DÃ¼nyana HoÅŸ Geldin</h1>
            <p>BugÃ¼n nasÄ±l hissediyorsun? Ä°Ã§indeki sesi dinle.</p>
        </header>

        <nav id="tab-navigation">
            <button data-tab="duygu-butonlari" class="active">Duygu ButonlarÄ±</button>
            <button data-tab="empati-kartlari">Empati KartlarÄ±</button>
            <button data-tab="iyilesme-alani">Ä°yileÅŸme AlanÄ±</button>
            <button data-tab="duygusal-gorevler">Duygusal GÃ¶revler</button>
            <button data-tab="terapi-defteri">Dijital Terapi Defteri</button>
            <button data-tab="ruh-hali-renk">Ruh Halin Ne Renk?</button>
        </nav>

        <div id="duygu-butonlari-content" class="tab-content active">
            <h2>SEKME 1: Duygu ButonlarÄ± â€“ â€œBugÃ¼n Neyin Ä°Ã§indesin?â€</h2>
            <p>Ana duygunu seÃ§erek sana Ã¶zel iÃ§eriklere ulaÅŸ.</p>
            <div class="duygu-buttons">
                <button class="duygu-button" id="duygu-kaygili" data-emotion="KaygÄ±lÄ±">KaygÄ±lÄ±</button>
                <button class="duygu-button" id="duygu-yalniz" data-emotion="YalnÄ±z">YalnÄ±z</button>
                <button class="duygu-button" id="duygu-umutsuz" data-emotion="Umutsuz">Umutsuz</button>
                <button class="duygu-button" id="duygu-boslukta" data-emotion="BoÅŸlukta">BoÅŸlukta</button>
                <button class="duygu-button" id="duygu-kararsiz" data-emotion="KararsÄ±z">KararsÄ±z</button>
                <button class="duygu-button" id="duygu-sakin" data-emotion="Sakin">Sakin</button>
                <button class="duygu-button" id="duygu-ilhamli" data-emotion="Ä°lhamlÄ±">Ä°lhamlÄ±</button>
                <button class="duygu-button" id="duygu-sevgisiz" data-emotion="Sevgisiz">Sevgisiz</button>
            </div>
            <div id="duygu-icerik">
                <p>LÃ¼tfen bir duygu seÃ§in.</p>
            </div>
             <div id="duygu-destek-oneri"></div>
        </div>

        <div id="empati-kartlari-content" class="tab-content">
            <h2>SEKME 2: Empati KartlarÄ± â€“ â€œBeni Anlayan Birileri Varâ€</h2>
            <div class="empati-kartlari-container">
                <button id="kartCekButton" class="primary-action">3 Rastgele Kart Ã‡ek</button>
                <div id="empati-kartlari-alani">
                    </div>
                <hr style="margin: 20px 0;">
                <h3>Kendi KartÄ±nÄ± BÄ±rak</h3>
                <form id="yeni-kart-form">
                    <textarea id="yeni-kart-metni" placeholder="KÄ±sa duygusal ifadenizi yazÄ±n..." required></textarea><br>
                    <input type="text" id="yeni-kart-takma-ad" placeholder="Takma Ad (isteÄŸe baÄŸlÄ±)">
                    <label><input type="checkbox" id="yeni-kart-anonim"> Anonim Olarak BÄ±rak</label><br>
                    <button type="submit">KartÄ±mÄ± BÄ±rak</button>
                </form>
                <div class="rozetler-alani" id="empati-rozetleri"></div>
                 <button class="paylasim-butonu" onclick="paylasEkranGoruntusu('empati-kartlari-alani', 'BugÃ¼n bana en dokunan kart:')">Bu KartlarÄ± PaylaÅŸ</button>
            </div>
        </div>

        <div id="iyilesme-alani-content" class="tab-content">
            <h2>SEKME 3: Ä°yileÅŸme AlanÄ± â€“ â€œBedenin ve Zihnin Dinlensinâ€</h2>
            <div id="iyilesme-onerileri">
                 </div>
            <div class="iyilesme-bolumu">
                <h3>â€œ3 Dakikada Toparlanâ€ Serisi</h3>
                <p>GÃ¶zlerini kapat, derin bir nefes al ve rahatla.</p>
                <button onclick="baslatEgzersiz('Toparlanma', 'Odaklanma mÃ¼ziÄŸi Ã§alÄ±yor...', 'Derin nefes al... ver... al... ver...')">BaÅŸla</button>
            </div>
            <div class="iyilesme-bolumu">
                <h3>Duygulara GÃ¶re Meditasyonlar</h3>
                <p id="meditasyon-onerisi">SeÃ§ili duygunuza gÃ¶re bir meditasyon Ã¶nerisi iÃ§in Duygu ButonlarÄ± sekmesinden bir duygu seÃ§in.</p>
                <button onclick="baslatEgzersiz('Anksiyete SakinleÅŸtirme Meditasyonu', 'SakinleÅŸtirici mÃ¼zik ve yÃ¶nlendirme...', 'Nefesine odaklan, dÃ¼ÅŸÃ¼nceler aksÄ±n...')">Anksiyete SakinleÅŸtirme</button>
                <button onclick="baslatEgzersiz('Motivasyon Meditasyonu', 'Enerji veren mÃ¼zik ve yÃ¶nlendirme...', 'Ä°Ã§indeki gÃ¼cÃ¼ hisset...')">DÃ¼ÅŸÃ¼k Enerjide Motivasyon</button>
            </div>
            <div class="iyilesme-bolumu">
                <h3>Soft Binaural Sesler</h3>
                <button onclick="baslatEgzersiz('YaÄŸmur Sesi', 'YaÄŸmur sesi Ã§alÄ±yor...', 'Rahatla ve dinlen.')">YaÄŸmur Sesi</button>
                <button onclick="baslatEgzersiz('Deniz DalgasÄ±', 'Deniz dalgasÄ± sesi Ã§alÄ±yor...', 'Huzuru hisset.')">Deniz DalgasÄ±</button>
                <button onclick="baslatEgzersiz('Kamp AteÅŸi', 'Kamp ateÅŸi sesi Ã§alÄ±yor...', 'SÄ±caklÄ±ÄŸÄ± duyumsat.')">Kamp AteÅŸi</button>
            </div>
            <div id="egzersiz-sonrasi-geri-bildirim" style="display:none;">
                <h4>Egzersiz TamamlandÄ±! NasÄ±l hissettin?</h4>
                <div class="emoji-skala">
                    <button>ğŸ˜</button> <button>ğŸ˜•</button> <button>ğŸ˜</button> <button>ğŸ™‚</button> <button>ğŸ˜Š</button>
                </div>
                <textarea id="geri-bildirim-notu" placeholder="Ä°stersen bir not bÄ±rakabilirsin..."></textarea>
                <button class="primary-action" onclick="geriBildirimGonder()">GÃ¶nder</button>
            </div>
        </div>

        <div id="duygusal-gorevler-content" class="tab-content">
            <h2>SEKME 4: Duygusal GÃ¶revler â€“ â€œÄ°Ã§ten Ä°yileÅŸme Rutinleriâ€</h2>
            <div id="gorevler-listesi">
                <div class="gorev">
                    <input type="checkbox" id="gorev1" data-gorev="olumlama">
                    <label for="gorev1">BugÃ¼n 5 olumlama cÃ¼mlesi yaz.</label>
                </div>
                <div class="gorev">
                    <input type="checkbox" id="gorev2" data-gorev="yeni-sey-dene">
                    <label for="gorev2">"Yeni bir ÅŸey dene" gÃ¶revi (EÄŸer 3 gÃ¼ndÃ¼r aynÄ± duyguyu seÃ§iyorsan aktif olur).</label>
                </div>
                <div class="gorev">
                    <input type="checkbox" id="gorev3" data-gorev="mesaj-gonder">
                    <label for="gorev3">Birine iÃ§ten bir mesaj gÃ¶nder.</label>
                </div>
                 <div class="gorev">
                    <input type="checkbox" id="gorev4" data-gorev="meditasyon">
                    <label for="gorev4">BugÃ¼n 5 dakika meditasyon yap.</label>
                </div>
            </div>
            <h3>KazanÄ±lan Rozetler:</h3>
            <div class="rozetler-alani" id="gorev-rozetleri">
                </div>
        </div>

        <div id="terapi-defteri-content" class="tab-content">
            <h2>SEKME 5: Dijital Terapi Defteri â€“ â€œKendini Duy, Kendine Yazâ€</h2>
            <p id="gunluk-soru">YÃ¶nlendirici soru buraya gelecek.</p>
            <form id="terapi-defteri-form">
                <textarea id="gunluk-yazisi" placeholder="BugÃ¼n iÃ§inden geÃ§enleri Ã¶zgÃ¼rce yaz..."></textarea>
                <div class="mod-butonlari">
                    <button type="button" onclick="alert('GÃ¶rsel moodboard modu yakÄ±nda!')">ğŸ–¼ï¸ GÃ¶rsel Moodboard</button>
                    <button type="button" onclick="alert('Sesli ifade kaydÄ± modu yakÄ±nda!')">ğŸ¤ Sesli Ä°fade KaydÄ±</button>
                </div>
                <button type="submit" class="primary-action">GÃ¼nlÃ¼ÄŸe Kaydet</button>
                <button type="button" id="empatiyeGonderButton">Anonim Olarak Empati KartÄ± Havuzuna GÃ¶nder</button>
            </form>
            <div id="kayitli-gunlukler">
                <h4>Ã–nceki KayÄ±tlar (Ã–rnek):</h4>
                </div>
            <div id="kelime-analizi">
                </div>
        </div>

        <div id="ruh-hali-renk-content" class="tab-content">
            <h2>SEKME 6: Ruh Halin Ne Renk? â€“ â€œÄ°Ã§indeki Duyguya Renk Verâ€</h2>
            <div class="ruh-hali-secim">
                <label for="ruh-renk">Renk SeÃ§:</label>
                <select id="ruh-renk">
                    <option value="#2f4f4f" data-text-color="white">Koyu Gri (Belirsizlik)</option>
                    <option value="#4682b4" data-text-color="white">Ã‡elik Mavisi (YalnÄ±zlÄ±k)</option>
                    <option value="#dda0dd" data-text-color="black">Lila (KararsÄ±zlÄ±k)</option>
                    <option value="#ff7f50" data-text-color="black">Mercan (Umut)</option>
                    <option value="#f0e68c" data-text-color="black">Haki (Durgunluk)</option>
                    <option value="#90ee90" data-text-color="black">AÃ§Ä±k YeÅŸil (Huzur)</option>
                    <option value="#ffd700" data-text-color="black">AltÄ±n (NeÅŸe)</option>
                </select>

                <label for="ruh-doku">Doku SeÃ§:</label>
                <select id="ruh-doku">
                    <option value="doku-duz">DÃ¼z</option>
                    <option value="doku-dalgalÄ±">DalgalÄ±</option>
                    <option value="doku-kirik">KÄ±rÄ±k</option>
                    <option value="doku-bulanik">BulanÄ±k</option>
                </select>

                <label for="ruh-hareket">Hareket Tipi SeÃ§:</label>
                <select id="ruh-hareket">
                    <option value="">Hareketsiz</option>
                    <option value="hareket-titresimli">TitreÅŸimli</option>
                    <option value="hareket-yavas-donen">YavaÅŸ DÃ¶nen</option>
                    <option value="hareket-yukari-tirmanan">YukarÄ± TÄ±rmanan</option>
                </select>
            </div>

            <div id="ruh-portresi">
                <span id="ruh-portresi-text">Ruh Portren</span>
            </div>
            <p id="ruh-portresi-aciklama" style="text-align:center;">â€œBugÃ¼n iÃ§im bu renkteydi...â€</p>
            <button class="paylasim-butonu primary-action" style="display:block; margin: 10px auto;" onclick="paylasRuhPortresi()">Ruh Portremi PaylaÅŸ</button>
        </div>
    </div>

    <script>
        // Genel DeÄŸiÅŸkenler
        const tabs = document.querySelectorAll('#tab-navigation button');
        const tabContents = document.querySelectorAll('.tab-content');
        const body = document.body;
        const themeToggleButton = document.getElementById('themeToggle');

        // Tema DeÄŸiÅŸtirici
        themeToggleButton.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            themeToggleButton.textContent = body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
            // Ruh portresi rengini de gÃ¼ncellemek gerekebilir eÄŸer aÃ§Ä±ksa
            if (document.getElementById('ruh-hali-renk-content').classList.contains('active')) {
                 updateRuhPortresi();
            }
        });

        // Sekme Navigasyonu
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(item => item.classList.remove('active'));
                tab.classList.add('active');

                const target = tab.getAttribute('data-tab');
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === target + '-content') {
                        content.classList.add('active');
                    }
                });
                // Sekme deÄŸiÅŸtiÄŸinde body arkaplanÄ±nÄ± sÄ±fÄ±rla (isteÄŸe baÄŸlÄ±)
                // body.style.background = ''; 
                // body.style.color = '';
            });
        });

        // ------ SEKME 1: Duygu ButonlarÄ± ------
        const duyguButtons = document.querySelectorAll('.duygu-button');
        const duyguIcerikDiv = document.getElementById('duygu-icerik');
        const duyguDestekOneriDiv = document.getElementById('duygu-destek-oneri');
        let secilenDuygu = null;
        let duyguSayaclari = {}; // { 'KaygÄ±lÄ±': 1, 'YalnÄ±z': 0 ...}
        const duyguRenkMap = {
            'KaygÄ±lÄ±': { bg: 'var(--kaygili-bg)', text: 'var(--kaygili-text)', portalBg: 'var(--soguk-mavi)' },
            'YalnÄ±z': { bg: 'var(--yalniz-bg)', text: 'var(--yalniz-text)', portalBg: 'var(--soguk-mavi)' },
            'Umutsuz': { bg: 'var(--umutsuz-bg)', text: 'var(--umutsuz-text)', portalBg: 'var(--soguk-mavi)' },
            'BoÅŸlukta': { bg: 'var(--boslukta-bg)', text: 'var(--boslukta-text)', portalBg: '#E0E0E0' },
            'KararsÄ±z': { bg: 'var(--kararsiz-bg)', text: 'var(--kararsiz-text)', portalBg: '#D8BFD8' },
            'Sakin': { bg: 'var(--sakin-bg)', text: 'var(--sakin-text)', portalBg: 'var(--pastel-sari)' },
            'Ä°lhamlÄ±': { bg: 'var(--ilhamli-bg)', text: 'var(--ilhamli-text)', portalBg: 'var(--pastel-sari)' },
            'Sevgisiz': { bg: 'var(--sevgisiz-bg)', text: 'var(--sevgisiz-text)', portalBg: '#FFC0CB' }
        };

        duyguButtons.forEach(button => {
            const emotion = button.dataset.emotion;
            duyguSayaclari[emotion] = 0; // BaÅŸlangÄ±Ã§ sayaÃ§larÄ±

            button.addEventListener('click', () => {
                secilenDuygu = emotion;
                duyguSayaclari[emotion]++;

                // Arka planÄ± deÄŸiÅŸtir (body iÃ§in)
                // body.style.background = duyguRenkMap[emotion].portalBg; // YavaÅŸ geÃ§iÅŸ iÃ§in CSS'e transition eklenebilir
                // body.style.transition = 'background-color 0.8s ease'; // CSS'de body'ye ekle

                // Ä°lgili iÃ§erikleri gÃ¶ster
                duyguIcerikDiv.innerHTML = `
                    <h3>${emotion} Hissine Ã–zel</h3>
                    <p><strong>Anonim Hikayeler (Ã–rnek):</strong></p>
                    <ul>
                        <li>"BugÃ¼n ${emotion} hissettim Ã§Ã¼nkÃ¼..." (GerÃ§ek hikayeler buraya gelecek)</li>
                        <li>"Bu hisle baÅŸa Ã§Ä±kmak iÃ§in ÅŸunu denedim..."</li>
                    </ul>
                    <p><strong>Podcast / MÃ¼zik Ã–nerisi:</strong></p>
                    <ul>
                        <li>Ã–neri: '${emotion} ruh haline uygun bir parÃ§a/podcast' (GerÃ§ek Ã¶neriler buraya)</li>
                    </ul>
                    <p><strong>Mini YÃ¶nlendirme:</strong></p>
                    <p>Åu an 3 ÅŸey sÃ¶yle: Seni ne ${emotion === 'KaygÄ±lÄ±' ? 'korkutuyor' : emotion === 'Ä°lhamlÄ±' ? 'heyecanlandÄ±rÄ±yor' : 'etkiliyor'}?</p>
                `;
                
                // Yapay zeka destekli Ã¶neri simÃ¼lasyonu
                if (duyguSayaclari[emotion] >= 3) {
                    duyguDestekOneriDiv.textContent = `"${emotion}" hissin uzun sÃ¼rdÃ¼. Ä°stersen bir destek alanÄ±na (Ã¶rneÄŸin profesyonel yardÄ±m veya gÃ¼vendiÄŸin biriyle konuÅŸmak) gÃ¶z atabilirsin.`;
                } else {
                    duyguDestekOneriDiv.textContent = '';
                }

                // Sekme 3'teki meditasyon Ã¶nerisini gÃ¼ncelle
                updateMeditasyonOnerisi(emotion);
                // Sekme 4'teki gÃ¶revleri gÃ¼ncelle
                checkDuyguGorevi();
            });
        });

        // ------ SEKME 2: Empati KartlarÄ± ------
        let empatiKartlari = [
            { text: "Ä°nsanlar beni eÄŸlenceli buluyor ama her gÃ¼n aÄŸlayarak uyuyorum.", user: "Gizli BahÃ§e", anonymous: true, reactions: { anliyorum: 0, ayni: 0, hatirla: 0 } },
            { text: "Bazen kimse beni anlamÄ±yor gibi hissediyorum, bu Ã§ok yorucu.", user: "Sessiz FÄ±rtÄ±na", anonymous: true, reactions: { anliyorum: 0, ayni: 0, hatirla: 0 } },
            { text: "KÃ¼Ã§Ã¼k bir baÅŸarÄ± bile olsa, bugÃ¼n kendimle gurur duydum.", user: "Umut IÅŸÄ±ÄŸÄ±", anonymous: false, reactions: { anliyorum: 0, ayni: 0, hatirla: 0 } }
        ];
        let okunanKartSayisi = 0;
        const kartCekButton = document.getElementById('kartCekButton');
        const empatiKartlariAlani = document.getElementById('empati-kartlari-alani');
        const yeniKartForm = document.getElementById('yeni-kart-form');

        function renderEmpatiKartlari(kartlarToRender) {
            empatiKartlariAlani.innerHTML = '';
            kartlarToRender.forEach((kart, index) => {
                const kartDiv = document.createElement('div');
                kartDiv.classList.add('empati-kart');
                kartDiv.innerHTML = `
                    <p>"${kart.text}"</p>
                    <small>Yazan: ${kart.anonymous ? 'Anonim' : kart.user}</small>
                    <div class="kart-tepkiler" data-index="${empatiKartlari.indexOf(kart)}">
                        <button data-reaction="anliyorum">ğŸ¤ AnlÄ±yorum (${kart.reactions.anliyorum})</button>
                        <button data-reaction="ayni">ğŸ’¬ AynÄ± durumdayÄ±m (${kart.reactions.ayni})</button>
                        <button data-reaction="hatirla">ğŸ“Œ HatÄ±rla (${kart.reactions.hatirla})</button>
                    </div>
                `;
                empatiKartlariAlani.appendChild(kartDiv);
            });
             // Event listener'larÄ± yeniden ata
            document.querySelectorAll('.kart-tepkiler button').forEach(button => {
                button.addEventListener('click', handleKartTepki);
            });
        }
        
        function handleKartTepki(event) {
            const reactionType = event.target.dataset.reaction;
            const kartIndex = event.target.closest('.kart-tepkiler').dataset.index;
            empatiKartlari[kartIndex].reactions[reactionType]++;
            // Sadece Ã§ekilen kartlarÄ± yeniden render etmek daha iyi olurdu ama basitlik iÃ§in tÃ¼mÃ¼nÃ¼ render ediyorum
            // O an gÃ¶rÃ¼ntÃ¼lenen kartlarÄ±n bir alt kÃ¼mesini tutmak lazÄ±m bunun iÃ§in.
            // Åimdilik tÃ¼m kartlarÄ± render edelim, tÄ±klanan kartÄ±n gÃ¼ncel hali gÃ¶rÃ¼nsÃ¼n.
            renderEmpatiKartlari(empatiKartlari.slice(0, Math.min(3, empatiKartlari.length))); // Ya da o an gÃ¶rÃ¼ntÃ¼lenenler
            // Daha iyisi: sadece tÄ±klanan butonun sayÄ±sÄ±nÄ± gÃ¼ncellemek
            // event.target.textContent = `${event.target.textContent.split('(')[0]}(${empatiKartlari[kartIndex].reactions[reactionType]})`;
        }


        kartCekButton.addEventListener('click', () => {
            let cekilenKartlar = [];
            let availableCards = [...empatiKartlari]; // KopyasÄ±nÄ± al
            for (let i = 0; i < 3; i++) {
                if (availableCards.length === 0) break;
                const randomIndex = Math.floor(Math.random() * availableCards.length);
                cekilenKartlar.push(availableCards.splice(randomIndex, 1)[0]);
            }
            renderEmpatiKartlari(cekilenKartlar);
            okunanKartSayisi += cekilenKartlar.length;
            checkEmpatiRozeti();
        });

        yeniKartForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const text = document.getElementById('yeni-kart-metni').value;
            const user = document.getElementById('yeni-kart-takma-ad').value || "Bir Dost";
            const anonymous = document.getElementById('yeni-kart-anonim').checked;
            if (text) {
                empatiKartlari.push({ text, user, anonymous, reactions: { anliyorum: 0, ayni: 0, hatirla: 0 } });
                alert('KartÄ±nÄ±z havuza eklendi!');
                yeniKartForm.reset();
            }
        });
        
        function checkEmpatiRozeti() {
            const empatiRozetAlani = document.getElementById('empati-rozetleri');
            if (okunanKartSayisi >= 5 && !document.getElementById('empati-koleksiyoncusu-rozeti')) { // 10 yerine 5 yaptÄ±m test iÃ§in
                const rozet = document.createElement('span');
                rozet.classList.add('rozet');
                rozet.id = 'empati-koleksiyoncusu-rozeti';
                rozet.textContent = 'ğŸŒŸ Empati Koleksiyoncusu';
                empatiRozetAlani.appendChild(rozet);
                alert("Rozet kazandÄ±nÄ±z: Empati Koleksiyoncusu!");
            }
            if (rozetler.yalnizDegilim && !document.getElementById('yalniz-degilim-gorev-rozeti')) {
                 // Bu rozet gÃ¶revler sekmesinde olduÄŸu iÃ§in oraya eklenmeli
            }
        }


        // ------ SEKME 3: Ä°yileÅŸme AlanÄ± ------
        const iyilesmeOnerileriDiv = document.getElementById('iyilesme-onerileri');
        const meditasyonOnerisiP = document.getElementById('meditasyon-onerisi');
        const egzersizGeriBildirimDiv = document.getElementById('egzersiz-sonrasi-geri-bildirim');

        function updateMeditasyonOnerisi(emotion) {
            if (!emotion) {
                meditasyonOnerisiP.textContent = "SeÃ§ili duygunuza gÃ¶re bir meditasyon Ã¶nerisi iÃ§in Duygu ButonlarÄ± sekmesinden bir duygu seÃ§in.";
                iyilesmeOnerileriDiv.innerHTML = "";
                return;
            }
            let onerilenMeditasyon = "";
            switch(emotion) {
                case "KaygÄ±lÄ±": onerilenMeditasyon = "Anksiyete SakinleÅŸtirme Meditasyonu"; break;
                case "Umutsuz": onerilenMeditasyon = "Umut Bulma Meditasyonu (Ã–rnek)"; break;
                case "YalnÄ±z": onerilenMeditasyon = "BaÄŸlantÄ± Kurma Meditasyonu (Ã–rnek)"; break;
                case "Ä°lhamlÄ±": onerilenMeditasyon = "YaratÄ±cÄ±lÄ±k AkÄ±ÅŸÄ± Meditasyonu (Ã–rnek)"; break;
                default: onerilenMeditasyon = "Genel Rahatlama Meditasyonu";
            }
            meditasyonOnerisiP.innerHTML = `Ã–nerilen Meditasyon: <strong>${onerilenMeditasyon}</strong>. AÅŸaÄŸÄ±dan baÅŸlatabilirsiniz.`;
            iyilesmeOnerileriDiv.innerHTML = `<h4>"${emotion}" Hissine YÃ¶nelik Ã–neriler:</h4>
                                           <p>Åu anda <strong>${onerilenMeditasyon}</strong> yapmanÄ±z iyi gelebilir.</p>
                                           <p>AyrÄ±ca, bir bardak su iÃ§mek veya kÄ±sa bir yÃ¼rÃ¼yÃ¼ÅŸ yapmak da yardÄ±mcÄ± olabilir.</p>`;
        }

        function baslatEgzersiz(egzersizAdi, muzikMesaji, yonlendirmeMesaji) {
            alert(`${egzersizAdi} baÅŸlÄ±yor...\n${muzikMesaji}\n${yonlendirmeMesaji}\n(Bu bir simÃ¼lasyondur. GerÃ§ek sesler ve yÃ¶nlendirmeler burada olurdu.)`);
            // SimÃ¼lasyon: 3 saniye sonra tamamlandÄ± mesajÄ±
            setTimeout(() => {
                egzersizGeriBildirimDiv.style.display = 'block';
            }, 3000);
            tamamlananMeditasyonSayisi++;
            checkGorevRozetleri();
        }

        document.querySelectorAll('.emoji-skala button').forEach(emojiBtn => {
            emojiBtn.addEventListener('click', () => {
                alert(`Geri bildiriminiz alÄ±ndÄ±: ${emojiBtn.textContent}`);
                // Burada geri bildirimi kaydetme iÅŸlemi yapÄ±labilir.
            });
        });

        function geriBildirimGonder() {
             const not = document.getElementById('geri-bildirim-notu').value;
             alert(`Notunuz "${not}" alÄ±ndÄ±. TeÅŸekkÃ¼rler!`);
             document.getElementById('geri-bildirim-notu').value = '';
             egzersizGeriBildirimDiv.style.display = 'none';
        }

        // ------ SEKME 4: Duygusal GÃ¶revler ------
        const gorevlerListesi = document.getElementById('gorevler-listesi');
        const gorevRozetleriAlani = document.getElementById('gorev-rozetleri');
        let tamamlananOlumlamaSayisi = 0;
        let tamamlananMeditasyonSayisi = 0; // Sekme 3'ten de artÄ±rÄ±lacak
        
        let rozetler = {
            kendiDostum: false,
            sabitZihin: false,
            yalnizDegilim: false // Bu, empati kartlarÄ±ndan gelecek.
        };

        document.querySelectorAll('#gorevler-listesi input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                if (checkbox.checked) {
                    const gorevTipi = checkbox.dataset.gorev;
                    if (gorevTipi === 'olumlama') tamamlananOlumlamaSayisi++;
                    // DiÄŸer gÃ¶rev tipleri iÃ§in de benzer artÄ±ÅŸlar eklenebilir.
                    // 'mesaj-gonder' gibi gÃ¶revler iÃ§in Ã¶zel bir mantÄ±k gerekebilir (Ã¶rn. bir butonla onaylatma).
                    // 'yeni-sey-dene' iÃ§in duygu sayacÄ±na bakÄ±lÄ±r.
                    if(checkbox.id === 'gorev4') tamamlananMeditasyonSayisi++; // Bu sekmeden meditasyon tamamlanÄ±rsa
                } else {
                    // EÄŸer gÃ¶rev geri alÄ±nÄ±rsa sayaÃ§ azaltÄ±labilir, opsiyonel.
                }
                checkGorevRozetleri();
            });
        });

        function checkDuyguGorevi() {
            // "Yeni bir ÅŸey dene" gÃ¶revi iÃ§in:
            const yeniSeyDeneGoreviCheckbox = document.getElementById('gorev2');
            let ayniDuygu3Gun = false;
            for (const duygu in duyguSayaclari) {
                if (duyguSayaclari[duygu] >= 3) { // 3 gÃ¼n = 3 tÄ±klama (basit simÃ¼lasyon)
                    ayniDuygu3Gun = true;
                    break;
                }
            }
            yeniSeyDeneGoreviCheckbox.disabled = !ayniDuygu3Gun;
            yeniSeyDeneGoreviCheckbox.parentElement.querySelector('label').style.color = ayniDuygu3Gun ? 'inherit' : '#aaa';
            if (!ayniDuygu3Gun) yeniSeyDeneGoreviCheckbox.checked = false; // Aktif deÄŸilse seÃ§imi kaldÄ±r
        }
        
        function checkGorevRozetleri() {
            if (tamamlananOlumlamaSayisi >= 2 && !rozetler.kendiDostum) { // 10 yerine 2 yaptÄ±m test iÃ§in
                rozetler.kendiDostum = true;
                gorevRozetleriAlani.innerHTML += `<span class="rozet" id="kendi-dostum-rozeti">ğŸ… Kendi Dostum</span>`;
                alert("Rozet KazandÄ±nÄ±z: Kendi Dostum!");
            }
            if (tamamlananMeditasyonSayisi >= 3 && !rozetler.sabitZihin) { // 7 gÃ¼n yerine 3 yaptÄ±m test iÃ§in
                rozetler.sabitZihin = true;
                gorevRozetleriAlani.innerHTML += `<span class="rozet" id="sabit-zihin-rozeti">ğŸ§  Sabit Zihin</span>`;
                alert("Rozet KazandÄ±nÄ±z: Sabit Zihin!");
            }
             if (okunanKartSayisi >= 5 && !rozetler.yalnizDegilim) { // Bu sekme 2'deki okunanKartSayisi ile kontrol ediliyor
                rozetler.yalnizDegilim = true; // 10 yerine 5
                gorevRozetleriAlani.innerHTML += `<span class="rozet" id="yalniz-degilim-gorev-rozeti">ğŸ«‚ YalnÄ±z DeÄŸilim</span>`;
                // alert("Rozet KazandÄ±nÄ±z: YalnÄ±z DeÄŸilim!"); // Empati kartlarÄ±nda zaten uyarÄ± veriliyor
            }
        }


        // ------ SEKME 5: Dijital Terapi Defteri ------
        const gunlukSoruP = document.getElementById('gunluk-soru');
        const terapiDefteriForm = document.getElementById('terapi-defteri-form');
        const gunlukYazisiTextarea = document.getElementById('gunluk-yazisi');
        const kelimeAnaliziDiv = document.getElementById('kelime-analizi');
        const empatiyeGonderButton = document.getElementById('empatiyeGonderButton');
        const kayitliGunluklerDiv = document.getElementById('kayitli-gunlukler');


        const gunlukSorulari = [
            "BugÃ¼n seni en Ã§ok ne zorladÄ±?",
            "Kime ne sÃ¶ylemek isterdin ama sÃ¶yleyemedin?",
            "BugÃ¼n minnettar olduÄŸun 3 ÅŸey nedir?",
            "Åu an en Ã§ok neye ihtiyacÄ±n var?",
            "Kendine bugÃ¼n nasÄ±l bir iyilik yaptÄ±n?"
        ];

        function yeniGunlukSoru() {
            const randomIndex = Math.floor(Math.random() * gunlukSorulari.length);
            gunlukSoruP.textContent = gunlukSorulari[randomIndex];
        }
        yeniGunlukSoru(); // Sayfa yÃ¼klendiÄŸinde bir soru gÃ¶ster

        terapiDefteriForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const yazi = gunlukYazisiTextarea.value;
            if (yazi.trim() === '') {
                alert('LÃ¼tfen bir ÅŸeyler yazÄ±n.');
                return;
            }
            alert('GÃ¼nlÃ¼ÄŸe kaydedildi! (Bu bir simÃ¼lasyondur. Veriler saklanmÄ±yor.)');
            
            // Kelime analizi (basit)
            const kelimeler = yazi.toLowerCase().match(/\b(\w+)\b/g) || [];
            const kelimeSayilari = {};
            let enCokKullanilan = { kelime: '', sayi: 0 };
            const hedefKelimeler = ["yalnÄ±zlÄ±k", "korku", "mutlu", "Ã¼zgÃ¼n", "stres"]; // Analiz edilecek Ã¶rnek kelimeler
            
            kelimeler.forEach(kelime => {
                if (hedefKelimeler.includes(kelime)) {
                    kelimeSayilari[kelime] = (kelimeSayilari[kelime] || 0) + 1;
                    if (kelimeSayilari[kelime] > enCokKullanilan.sayi) {
                        enCokKullanilan = { kelime: kelime, sayi: kelimeSayilari[kelime] };
                    }
                }
            });

            if (enCokKullanilan.kelime) {
                kelimeAnaliziDiv.textContent = `Analiz: YazÄ±nÄ±zda en sÄ±k geÃ§en anahtar kelime "${enCokKullanilan.kelime}" (${enCokKullanilan.sayi} kez).`;
            } else {
                kelimeAnaliziDiv.textContent = "YazÄ±nÄ±zda takip edilen anahtar kelimelerden bulunamadÄ±.";
            }
            
            // Ã–rnek olarak gÃ¼nlÃ¼ÄŸÃ¼ listeye ekle
            const kayitDiv = document.createElement('div');
            kayitDiv.style.border = "1px solid #eee";
            kayitDiv.style.padding = "5px";
            kayitDiv.style.margin = "5px 0";
            kayitDiv.textContent = `[${new Date().toLocaleDateString()}] ${yazi.substring(0,50)}...`;
            kayitliGunluklerDiv.appendChild(kayitDiv);


            // gunlukYazisiTextarea.value = ''; // Ä°steÄŸe baÄŸlÄ±: KayÄ±ttan sonra temizle
            yeniGunlukSoru(); // Yeni bir soru gÃ¶ster
        });

        empatiyeGonderButton.addEventListener('click', () => {
            const text = gunlukYazisiTextarea.value;
            if (text.trim()) {
                empatiKartlari.push({ text, user: "GÃ¼nlÃ¼kten", anonymous: true, reactions: { anliyorum: 0, ayni: 0, hatirla: 0 } });
                alert('YazÄ±nÄ±z anonim olarak Empati KartÄ± havuzuna gÃ¶nderildi!');
            } else {
                alert('LÃ¼tfen Ã¶nce bir ÅŸeyler yazÄ±n.');
            }
        });

        // ------ SEKME 6: Ruh Halin Ne Renk? ------
        const ruhRenkSelect = document.getElementById('ruh-renk');
        const ruhDokuSelect = document.getElementById('ruh-doku');
        const ruhHareketSelect = document.getElementById('ruh-hareket');
        const ruhPortresiDiv = document.getElementById('ruh-portresi');
        const ruhPortresiText = document.getElementById('ruh-portresi-text');
        const ruhPortresiAciklamaP = document.getElementById('ruh-portresi-aciklama');
        let mevcutDokular = ['doku-duz', 'doku-dalgalÄ±', 'doku-kirik', 'doku-bulanik'];
        let mevcutHareketler = ['hareket-titresimli', 'hareket-yavas-donen', 'hareket-yukari-tirmanan'];


        function updateRuhPortresi() {
            const renk = ruhRenkSelect.value;
            const seciliRenkOption = ruhRenkSelect.options[ruhRenkSelect.selectedIndex];
            const textColor = seciliRenkOption.dataset.textColor || 'white';

            const doku = ruhDokuSelect.value;
            const hareket = ruhHareketSelect.value;

            ruhPortresiDiv.style.backgroundColor = renk;
            ruhPortresiText.style.color = textColor; // YazÄ± rengini ayarla

            // Ã–nceki doku ve hareket sÄ±nÄ±flarÄ±nÄ± temizle
            mevcutDokular.forEach(d => ruhPortresiDiv.classList.remove(d));
            mevcutHareketler.forEach(h => ruhPortresiDiv.classList.remove(h));
            ruhPortresiDiv.style.filter = ''; // BulanÄ±klÄ±ÄŸÄ± sÄ±fÄ±rla

            if (doku) {
                if (doku === 'doku-bulanik') {
                    ruhPortresiDiv.style.filter = 'blur(2px)'; // Sadece portreye bulanÄ±klÄ±k
                } else {
                    ruhPortresiDiv.classList.add(doku);
                }
            }
            if (hareket) ruhPortresiDiv.classList.add(hareket);

            // AÃ§Ä±klamayÄ± gÃ¼ncelle
            let aciklama = `BugÃ¼n iÃ§im ${seciliRenkOption.text.split('(')[0].trim()} renkteydi`;
            if (doku !== 'doku-duz') aciklama += `, ${ruhDokuSelect.options[ruhDokuSelect.selectedIndex].text.toLowerCase()} bir dokuda`;
            if (hareket) aciklama += ` ve ${ruhHareketSelect.options[ruhHareketSelect.selectedIndex].text.toLowerCase()}`;
            aciklama += ".";
            ruhPortresiAciklamaP.textContent = aciklama;
        }

        ruhRenkSelect.addEventListener('change', updateRuhPortresi);
        ruhDokuSelect.addEventListener('change', updateRuhPortresi);
        ruhHareketSelect.addEventListener('change', updateRuhPortresi);

        // BaÅŸlangÄ±Ã§ta bir kez Ã§alÄ±ÅŸtÄ±r
        updateRuhPortresi();


        // ------ PAYLAÅIM FONKSÄ°YONLARI (Basit) ------
        function paylasEkranGoruntusu(elementId, mesaj) {
            // GerÃ§ek ekran gÃ¶rÃ¼ntÃ¼sÃ¼ almak yerine metin kopyalama simÃ¼lasyonu
            const contentElement = document.getElementById(elementId);
            let textToShare = mesaj + "\n";
            if(elementId === 'empati-kartlari-alani'){
                contentElement.querySelectorAll('.empati-kart p').forEach(p => {
                    textToShare += `- "${p.textContent}"\n`;
                });
            }
            
            try {
                navigator.clipboard.writeText(textToShare);
                alert("Ä°Ã§erik panoya kopyalandÄ±! Sosyal medyada paylaÅŸabilirsiniz.\n\n" + textToShare.substring(0,150) + "...");
            } catch (err) {
                alert("PaylaÅŸÄ±m iÃ§in iÃ§erik:\n" + textToShare.substring(0,150) + "...");
                console.error('Kopyalama baÅŸarÄ±sÄ±z: ', err);
            }
        }
        
        function paylasRuhPortresi() {
            const aciklama = ruhPortresiAciklamaP.textContent;
            const renk = ruhRenkSelect.options[ruhRenkSelect.selectedIndex].text.split('(')[0].trim();
            const doku = ruhDokuSelect.options[ruhDokuSelect.selectedIndex].text;
            const hareket = ruhHareketSelect.options[ruhHareketSelect.selectedIndex].text;

            const shareText = `${aciklama}\n#RuhHalim #DuyguPortrem #Renkler #Duygular\n(Renk: ${renk}, Doku: ${doku}, Hareket: ${hareket})`;
             try {
                navigator.clipboard.writeText(shareText);
                alert("Ruh portresi aÃ§Ä±klamasÄ± panoya kopyalandÄ±! Sosyal medyada paylaÅŸabilirsiniz:\n\n" + shareText);
            } catch (err) {
                alert("PaylaÅŸÄ±m iÃ§in iÃ§erik:\n" + shareText);
                console.error('Kopyalama baÅŸarÄ±sÄ±z: ', err);
            }
        }

        // Ä°lk sekme aktif olsun ve baÅŸlangÄ±Ã§ iÅŸlemleri
        document.addEventListener('DOMContentLoaded', () => {
            tabs[0].click(); // Ä°lk sekmeyi aktif et
            checkDuyguGorevi(); // "Yeni bir ÅŸey dene" gÃ¶revini baÅŸlangÄ±Ã§ta kontrol et
            updateMeditasyonOnerisi(null); // BaÅŸlangÄ±Ã§ta Ã¶neri yok
            checkGorevRozetleri(); // Rozetleri kontrol et
            checkEmpatiRozeti(); // Empati rozetini kontrol et
        });

    </script>
</body>
</html>